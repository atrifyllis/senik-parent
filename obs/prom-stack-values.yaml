prometheus:
  prometheusSpec:
    podMonitorSelectorNilUsesHelmValues: false
    serviceMonitorSelectorNilUsesHelmValues: false
    ruleSelectorNilUsesHelmValues: false
  ingress:
    enabled: true
    hosts:
      - prometheus.127.0.0.1.nip.io
grafana:
  ingress:
    enabled: true
    hosts:
      - grafana.127.0.0.1.nip.io
  additionalDataSources:
    - name: loki
      type: loki
      access: proxy
      orgId: 1
      url: http://loki:3100
      basicAuth: false
      editable: false
      jsonData:
        derivedFields:
          - datasourceUid: tempo
            matcherRegex: \[{.+,(.+?),.+}] # to match trace id in pattern:  "user: %X{userId} %5p [${spring.application.name:},%X{traceId:-},%X{spanId:-}]"
            name: TraceID
            url: $${__value.raw}
